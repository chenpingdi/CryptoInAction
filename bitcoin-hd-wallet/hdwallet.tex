\documentclass{article}
\usepackage[UTF8, heading = false, scheme = plain]{ctex}

\usepackage{geometry}
\geometry{b5paper,left=2cm,right=2cm,top=2cm,bottom=2cm}

\usepackage{color}
\usepackage{amsfonts}
\usepackage{amsmath}

\linespread{1.5}

\usepackage[colorlinks,
            linkcolor=red,
            anchorcolor=blue,
            citecolor=green
            ]{hyperref}

\usepackage{listings}
\usepackage{fontspec}
\usepackage{graphicx}
\usepackage{algorithm,algorithmic}
\newfontfamily\monaco{Monaco}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{ %
  basicstyle=\footnotesize\monaco,       % the size of the fonts that are used for the code
  numbers=left,                   % where to put the line-numbers
  numberstyle=\footnotesize\monaco\color{gray},  % the style that is used for the line-numbers
  numbersep=5pt
  stepnumber=1,                   % the step between two line-numbers. If it's 1, each line
                                  % will be numbered
  numbersep=5pt,                  % how far the line-numbers are from the code
  backgroundcolor=\color{white},      % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=4,                      % sets default tabsize to 2 spaces
  captionpos=t,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                   % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  keywordstyle=\color{blue},          % keyword style
  commentstyle=\color{dkgreen},       % comment style
  stringstyle=\color{mauve},         % string literal style
  escapeinside={\%*}{*)},            % if you want to add LaTeX within your code
  morekeywords={*,...}               % if you want to add more keywords to the set
}

\usepackage{amssymb} 

\setlength{\parindent}{2em}

\renewcommand{\G}{\mathbb{G}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\F}{\mathbb{F}}

\newcommand{\Sbox}{\textsf{Sbox}}
\newcommand{\code}[1]{\lstinline!#1!}

%%%%%%%处理下划线：_%%%%%%%%%
\usepackage{underscore}
%%%%%%%处理下划线：_%%%%%%%%%

\setlength{\parindent}{2.1em}

\begin{document}

\title{深入理解Bitcoin钱包机制}
\author{Jia, longcpp \\ \small{yin.jia987@gmail.com, longcpp9@gmail.com}}

\maketitle


在比特币系统中，私钥代表着对比特币的完全控制，用户在发送交易时需要直接与私钥打交道。
但由于私钥本身是一串256bit的二进制串，直接以二进制形式访问私钥对用户来说非常不友好。
为了方便用户记录和识别，私钥衍生出了Hex,WIF(Wallet Import Format),WIF-compressed等不同形式，
它们与256bit二进制串相比长度更短，易于辨别。但一个地址就对应了一对公私钥，
这些零散的公私钥管理起来十分不便，给用户使用带来了困难。

为了更好地对于私钥进行保护和管理，以及优化用户体验，BIP(Bitcoin Improvement Protocol)中一些协议对此进行了探索：
BIP32提出了分层确定性钱包的概念，允许用户从一个种子seed确定性地派生出一棵密钥树，
方便在不同钱包客户端之间进行切换，并使得公私钥的派生过程可以独立进行。
BIP39则给出了seed的生成方法，并且允许将该seed与一组助记词对应起来，方便用户理解和记忆。
BIP38针对私钥的安全性，提出了对私钥进行加密保护的方法，与之前相比，
用户只需要多记忆一个passphrase，同时获得了更高的安全性。

上述的BIP协议主要是在如何简化用户与钱包软件的交互、以及在不过多增加用户负担的情况下提高安全性等方面进行的探索，
主要是希望由用户掌握一个较短的、方便记忆的字符串，通过密码学的方法，派生出不同用途的密钥（签名、加密）。
因此这些方案中除了基本的加密（AES)，签名（ECDSA)算法之外，
用到的另外一类算法就是Password-based Key Derivation Function（PBKDF）。
下面首先会对涉及到的PBKDF做简要介绍，然后逐一说明每个BIP的原理、功能。

\include{sec1-pbkdf}

\include{sec2-hdwallet}

\include{sec3-bip39}

\include{sec4-bip38}



\end{document}
